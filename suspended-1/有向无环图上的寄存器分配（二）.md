本文将继续讨论更多情形：

###### 多个有向无环图的集合：

<img src="assets\register_allocation_on_dag\separate_subgraphs.png" height="180px">

如果原图是多个不相关的子图的集合，那么同样可以先分别考虑各个子图，再对子图的求值顺序进行排列。（有问题！不能直接分解！）

假设共有k个孤立的子图，已经对各个子图求解了该问题，第i个子图求值过程中最少需要ti个临时寄存器，结果需要保存在ri个寄存器里。如果依次对这些子图求值，同时需要`max{t1, r1+t2, r1+r2+t3, ..., r1+r2+...+r_{k-1}+tk}`个寄存器。

如何重新安排子图的求值顺序，使得同时需要的临时寄存器个数尽可能少？



###### 两个有向无环图的并：

假设每个子图的最优求值顺序已经找到。



对于两个子图A、B的寄存器个数的序列：{a1, a2, ..., am}，{b1, b2, ..., bn}。每次从A或B序列头部取走一个并更新为A或B当前的寄存器个数，如何选择，使得A和B的总寄存器个数的最大值最小？





###### 二层有向无环图：

<img src="assets\register_allocation_on_dag\bipartite_dag.png" height="130px">











可以把原图的一些节点构成的子图看作一个节点，这时该问题转化为任务调度问题。

#### 最小空间任务调度问题

有多个任务（函数），依赖关系形成有向无环图，每一个任务Ti需要大小为Ii的输入数据，输出大小为Oi的数据，任务结束后输出数据需要临时保存起来，以便后续的任务使用，那么，如何安排各个任务的执行顺序，使得保存数据所需的最大空间最小？

